<!DOCTYPE html>
<html lang="en">

<head>
    <title>Graphic : STLPR</title>

    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="robots" content="noindex" />
    <link rel="shortcut icon" href="https://s3.amazonaws.com/stlpr-assets/stlpr-favicon.ico" />

    <style type="text/css">
    /* import fonts */
	@import url(http://fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic|Titillium+Web:700,400,300);

    /* base styles */
    html { -webkit-text-size-adjust: none; }
    body {
        margin: 0;
        padding: 0;
        font: 12px/1.4 'Titillium Web', Helvetica, sans-serif;
        color: #333;
    }
        h1 {
            margin: 0 0 15px 0;
            font-size: 16px;
            color: #333;
        }
        h2 {
            font-weight: normal;
            color: #666;
            font-size: 14px;
            margin: -7px 0 22px 0;
        }
        .footnotes { margin-bottom: 20px; }
        .footnotes h4 {
            margin: 2px 0 7px 0;
            color: #666;
            font-size: 11px;
        }
        .footnotes p,
        .footer p {
            margin: 2px 0 0 0;
            font-size: 11px;
            line-height: 1.3;
            color: #808080;
        }
        a, a:link, a:visited {
            color: #4774CC;
            text-decoration: none;
        }
        a:hover, a:active { opacity: 0.7; }

        /* graphic */
        #graphic { 
        	margin: 0 0 11px 0;
        	position: relative;
        }
        #graphic img.fallback {
            max-width: 100%;
            height: auto;
        }

        .key {
            margin: 0 0 22px 0;
            padding: 0;
            list-style-type: none;
        }
        .key .key-item { 
            display: inline-block;
            margin: 0 18px 0 0;
            padding: 0;
            line-height: 15px;
        }
        .key .key-item b { 
            display: inline-block;
            width: 15px;
            height: 15px;
            margin-right: 6px;
            float: left;
        }
        .key .key-item label { 
            white-space: nowrap;
            font-size: 12px;
            color: #333;
            font-weight: normal;
        }

        .axis {
            font-size: 12px;
            fill: #666;
        }
        .axis path,
        .axis line {
            fill: none;
            stroke: #666;
            shape-rendering: crispEdges;
        }
        .axis.y path { display: none; }
        .axis.y .tick line { display: none; }

        .grid path { display: none; }
        .grid .tick {
            stroke: #ccc;
            stroke-dasharray: 1px 3px;
            stroke-width: 1px;
            shape-rendering: crispEdges;
        }
        .grid.y .tick:first-child { display: none; }

        .lines {
            fill: none;
            stroke-width: 3px;
            stroke: #ccc;
        }
		
        /* table */
        table {
            border-collapse: collapse;
            padding: 0;
            margin: 0 0 22px 0;
            width: 100%;
            font-size: 12px;
        }
        table th {
            text-align: left;
            border-bottom: 2px solid #eee;
            vertical-align: bottom;
        }
        table td {
            border-bottom: 1px solid #eee;
            vertical-align: top;
        }
        table th,
        table td {
            padding: 10px;
            color: #333;
            text-align: right;
        }
        table th:nth-child(1),
        table td:nth-child(1) {
            text-align: left;
            font-weight: bold;
        }
		
		table td,
		table th {
			border-left: 1px solid #999;
		}
		
        table th:nth-child(1),
        table td:nth-child(1),
        table th:nth-child(4),
        table td:nth-child(4),
        table th:nth-child(6),
        table td:nth-child(6) {
			border-left: none;
			}
		
		
        /* responsive table */
        @media screen and (max-width: 480px) {
            table,
            tbody {
                display: block;
                width: 100%;
            }
            thead { display: none; }
            table tr,
            table th,
            table td {
                display: block;
                padding: 0;
                text-align: left;
                white-space: normal;
            }
            table td { 
                border: none;
                margin-bottom: 6px;
                color: #444;
            }
            table td:empty { display: none; }
            table tr {
                border-bottom: 1px solid #eee;
                padding-bottom: 11px;
                margin-bottom: 11px;
            }
            table th[data-title]:before,
            table td[data-title]:before {
                content: attr(data-title) ":\00A0";
                font-weight: bold;
            }
            table tr td:first-child { 
                font-size: 14px;
                font-weight: bold;
                margin-bottom: 6px;
                color: #333;
            }
            table tr td:first-child:before {
                content: '';
            }
        }
    </style>
</head>

<body>
    {% if COPY.labels.headline %}<h1>{{ COPY.labels.headline }}</h1>{% endif %}
    {% if COPY.labels.subhed %}<h2>{{ COPY.labels.subhed }}</h2>{% endif %}

    <div id="graphic"><img src="fallback.png" alt="[Chart]" class="fallback" /></div>
    
	{% if COPY.labels.table_hed %}<h1>{{ COPY.labels.table_hed }}</h1>{% endif %}
	
    <table>
        <thead>
            <tr>
                <th>{{ COPY.labels.hdr_1 }}</th>
                <th>{{ COPY.labels.hdr_2 }}</th>
                <th>{{ COPY.labels.hdr_3 }}</th>
                <th>{{ COPY.labels.hdr_4 }}</th>
                <th>{{ COPY.labels.hdr_5 }}</th>
                <th>{{ COPY.labels.hdr_6 }}</th>								
            </tr>
        </thead>

        {% for row in COPY.data %}
        <tr class="year-{{ row.year|lower|replace(' ', '-') }}">
            <td data-title="{{ COPY.labels.hdr_1 }}">{{ row.year }}</td>
            <td data-title="{{ COPY.labels.hdr_2 }}">{{ row.total }}</td>
            <td data-title="{{ COPY.labels.hdr_3 }}">{{ row.union_workers }}</td>
            <td data-title="{{ COPY.labels.hdr_4 }}">{{ row.union_pct }}</td>
            <td data-title="{{ COPY.labels.hdr_5 }}">{{ row.union_rep_workers }}</td>
            <td data-title="{{ COPY.labels.hdr_6 }}">{{ row.union_rep_pct }}</td>
		</tr>
        {% endfor %}

    </table>
    
    {% if COPY.labels.footnote %}
    <div class="footnotes">
        <h4>Notes</h4>
        <p>{{ COPY.labels.footnote }}</p>
    </div>
    {% endif %}

    <div class="footer">
        {% if COPY.labels.source %}<p>Source: {{ COPY.labels.source }}</p>{% endif %}
        {% if COPY.labels.credit %}<p>Credit: {{ COPY.labels.credit }}</p>{% endif %}
    </div>

    <script src="js/lib/jquery.min.js" type="text/javascript"></script>
    <script src="js/lib/d3.min.js" type="text/javascript"></script>
    <script src="js/lib/modernizr.svg.min.js" type="text/javascript"></script>
    <script src="js/lib/pym.js" type="text/javascript"></script>
    <script src="js/graphic.js" type="text/javascript"></script>
</body>
</html>
